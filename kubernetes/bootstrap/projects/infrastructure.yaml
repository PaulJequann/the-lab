---
apiVersion: argoproj.io/v1alpha1
kind: AppProject
metadata:
  name: infrastructure
  namespace: argocd
spec:
  description: Infrastructure services (e.g., storage)
  sourceRepos:
    - https://github.com/PaulJequann/the-lab
    - https://argoproj.github.io/argo-helm
    - https://charts.jetstack.io
    - https://bitnami-labs.github.io/sealed-secrets
    - https://helm.cilium.io
    - https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts
    - oci://ghcr.io/actions/actions-runner-controller-charts/gha-runner-scale-set-controller
    - oci://ghcr.io/actions/actions-runner-controller-charts/gha-runner-scale-set
  destinations:
    - namespace: "*"
      server: "https://kubernetes.default.svc"
  clusterResourceWhitelist:
    - group: ""
      kind: Namespace
    - group: storage.k8s.io
      kind: StorageClass
    - group: storage.k8s.io
      kind: CSIDriver
    - group: gateway.networking.k8s.io
      kind: GatewayClass
    - group: apiextensions.k8s.io
      kind: CustomResourceDefinition
    - group: rbac.authorization.k8s.io
      kind: ClusterRole
    - group: rbac.authorization.k8s.io
      kind: ClusterRoleBinding
  namespaceResourceWhitelist:
    - group: "*"
      kind: "*"
